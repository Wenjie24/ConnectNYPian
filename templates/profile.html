
{% extends 'base.html' %}
{% block title%}Profile{% endblock %}

{% block content %}
{% from "includes/formHelper.html" import render_field %}
<main class="container">
  <!--

    3. Profile Page !!PLACEHOLDER!!
      - Attribute needed
        - [ ] Profile Picture Edit
        - [ ] Bio
        - [ ] Following Count
        - [ ] Follower Count
        - [ ] Name
        - [ ] Password (Hide Function)
        - [ ] Email
        - [ ] Post Count
        - [ ] Likes Count (People Like him)
  -->

  <div class="row justify-content-center">
    <div class="col-md-4">
      <div class="card mb-4 shadow-sm">
        <img
          src="/static/images/person-circle.svg"
          alt="Profile Picture"
          width="100%"
          height="225"
          onclick="editProfile()"
          style="margin-top: 30px; margin-bottom: 30px"
        />
        <div class="card-body" style="margin-left: 30px;">

          <p class="card-text">
            <b>Username:</b> {{username}}
          </p>
          
          {% if is_owner %}
          <p class="card-text">
            <b>Email:</b>
            {{school_email}}
          </p>
          {% endif %}

          {% if is_owner %}
          <p class="card-text">
            <b>Account ID:</b> {{account_id}}
          </p>
          {% endif %}

          {% if is_owner %}
          <p class="card-text">
            <b>Date Created:</b> {{created_timestamp}}
          </p>
          {% endif %}

          <p class="card-text">
            <b>Bio:</b> !ALTER THE SCHEMA!
          </p>

          <p class="card-text">
            <b>Following:</b> derive
          </p>
          <p class="card-text">
            <b>Followers:</b> derive
          </p>
          <p class="card-text">
            <b>Posts:</b> derive
          </p>
          <p class="card-text">
            <b>Likes:</b> derive
          </p>
          {% if is_owner %}
          <div class="d-flex justify-content-between align-items-center">
            <div class="btn-group">
              <a
                href="/editprofile"
                class="btn btn-sm btn-outline-secondary"
                >Edit Profile</a
              >
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="col-md-6">
      {% if is_owner %}
      <h3 style="margin-bottom: 20px;">My Posts</h3>
      {% else %}
      <h3>{{username}}'s Posts</h3>
      {% endif %}
      {% for post in posts %}
      <div class="card mb-4 shadow-sm p-1">
        <div class="card-body">
          <h4 class="card-text">
            {{post.title}}
          </h4>
          <p class="card-text">
            {{post.body}}
          </p>
          <p class="card-text">
            <b>Date:</b> {{post.post_timestamp}}
          </p>
          <p class="card-text">
            <b>Likes:</b> this doesnt exist yet it will soon tho
          </p>
          {% if is_owner %}
          <div class="d-flex justify-content-between align-items-center">
            <div class="btn-group">
              <a
                href="/editpost"
                class="btn btn-sm btn-outline-secondary"
                >Edit Post</a
              >
            </div>
          </div>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
</main>
{% endblock %}